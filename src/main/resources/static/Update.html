<!DOCTYPE html>
<html>
    <head>
        <title>Amend Database</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=, initial-scale=1.0">
    </head>

    <body>
        <form>
        <script type="text/javascript">
        function updateFunc() {
        	let id = document.getElementsByName("f_id")[0].value;
        	let inputType = document.getElementsByName("f_type")[0].value;
            let inputMat = document.getElementsByName("f_material")[0].value;
            let inputCost = document.getElementsByName("f_cost")[0].value;
        	fetch("http://localhost:9002/update/"+id, { 
        	    method: 'put', 
        	    headers: {
        	      "Content-type": "application/json" 
        	    },
        	    body: JSON.stringify(
        	      {
        	        "type": inputType,
        	        "material": inputMat,
        	        "cost": inputCost
        	      }
        	    )
        	  })
        	  .then(res => res.json())
        	  .then((data) => console.log(`Request succeeded with JSON response ${data}`))
    		  .catch((error) => console.log(`Request failed ${error}`))
        	  }  
        </script>
        <h1>Update Database Entry:</h1>
        
        <fieldset>
        	<legend>Enter Database ID to amend</legend>
        	<label for="type">ID</label>
            <input id="furniture_id" type="id" name="f_id">
        </br>
            <legend>Enter new data here:</legend>
            <label for="type">Furniture Type</label>
            <input id="furniture_type" type="text" name="f_type">
        </br>
            <label for="material">Furniture Material</label>
            <input type="material" id="furniture_material" name="f_material"/>
        </br> 
            <label for="cost">Retail Value</label>
            <input type="cost" id="furniture_cost" name="f_cost"/>
        </br>   
        
        </fieldset>
        <input type = "button" onclick = "updateFunc()" value="Click here to update data in database!">
    </form>
 
    </body>
</html>